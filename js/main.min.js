var tvDisplay=function(){function h(b,a){return b.hasOwnProperty(a)?b[a]:l.hasOwnProperty(b.contentType)&&l[b.contentType].hasOwnProperty(a)?l[b.contentType][a]:p.hasOwnProperty(a)?p[a]:null}function e(b){axios.get(r,{responseType:"json",params:{_:Date.now()}}).then(function(b){return b.data}).then(function(a){m=a.contentList||[];l=a.contentDefaults||{};p=a.displayDefaults||{};b&&g()})["catch"](function(b){0===m.length&&window.alert("Unable to load config: "+r+"\n\n"+b)})}var k=new URLSearchParams(window.location.search),
c=k.get("config")||"default",n=k.get("index")||-1,q=null,r=(-1===c.indexOf("/")?"config/":"")+c+(-1===c.indexOf(".")?".json":""),p={},l={},m=[],f=document.getElementsByTagName("main")[0],k=document.getElementsByTagName("footer")[0];k.getElementsByClassName("float-left")[0].innerHTML="{ "+c+" }";k.removeAttribute("hidden");var g,t;t=function(){var b=m[n],a=h(b,"remoteURL"),c=(a?a:"")+"content/"+b.contentType,e=c+"/html.txt";axios.get(e,{responseType:"text"}).then(function(b){return b.data}).then(function(a){tvDisplay.tvContent&&
(tvDisplay.tvContent.destroy&&tvDisplay.tvContent.destroy(),delete tvDisplay.tvContent);for(;f.firstChild;)f.removeChild(f.firstChild);f.innerHTML=a;if(a=f.getElementsByTagName("article")[0]){a.getAttribute("data-css")&&""!==a.getAttribute("data-css")&&f.insertAdjacentHTML("afterbegin",'<link rel="stylesheet" type="text/css" href="'+c+"/"+a.getAttribute("data-css")+'" />');var d=h(b,"fontFamily");d&&(a.style.fontFamily=d);if(d=h(b,"backgroundImage"))-1===d.indexOf("://")?a.style.backgroundImage="url('"+
c+"/../../"+d+"')":a.style.backgroundImage="url('"+d+"')";a.getAttribute("data-js")&&""!==a.getAttribute("data-js")&&(d=document.createElement("script"),d.src=c+"/"+a.getAttribute("data-js"),d.onload=function(){tvDisplay.tvContent&&tvDisplay.tvContent.init&&tvDisplay.tvContent.init(b)},f.insertAdjacentElement("afterbegin",d))}a=1E3*(h(b,"displaySeconds")||60);q=window.setTimeout(g,a)})["catch"](function(){try{window.console.error("Unable to load content: "+e)}catch(u){}g()})};g=function(){if(q)try{window.clearTimeout(q)}catch(b){}n+=
1;n>=m.length&&(n=0);t()};e(!0);window.setInterval(e,6E5);window.addEventListener("keyup",function(b){switch(b.which||b.keyCode){case 39:case 40:case 78:g();break;case 82:e()}});document.getElementsByClassName("footer-btn-refresh")[0].addEventListener("click",function(){e(!1)});document.getElementsByClassName("footer-btn-next")[0].addEventListener("click",g);c=new Date(Date.now()+864E5);c.setHours(3);window.setTimeout(function(){window.location.reload(!0)},c.getTime()-Date.now());return{next:g,refresh:e,
getContentProperty:h,contentContainer:f,sanitizeText:function(b){var a=document.createElement("div");a.innerHTML=b;return a.innerText}}}();
