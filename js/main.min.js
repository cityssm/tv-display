var tvDisplay=function(){function h(a,b){var c=a[b];null===c&&m[a.contentType]&&(c=m[a.contentType][b]);null===c&&(c=q[b]);return c}function f(a){axios.get(r,{responseType:"json",data:{_:Date.now()}}).then(function(a){return a.data}).then(function(b){k=b.contentList||[];m=b.contentDefaults||{};q=b.displayDefaults||{};a&&e()})["catch"](function(a){0===k.length&&window.alert("Unable to load config: "+r+"\n\n"+a)})}var g=new URLSearchParams(window.location.search),n=g.get("config")||"default",l=g.get("index")||
-1,p=null,r="config/"+n+(-1===n.indexOf(".")?".json":""),q={},m={},k=[],d=document.getElementsByTagName("main")[0],g=document.getElementsByTagName("footer")[0];g.getElementsByClassName("float-left")[0].innerText="\u26ed "+n;g.removeAttribute("hidden");var e,t;t=function(){var a=k[l],b="content/"+a.contentType+"/html.txt";axios.get(b,{responseType:"text"}).then(function(a){return a.data}).then(function(c){tvDisplay.tvContent&&(tvDisplay.tvContent.destroy&&tvDisplay.tvContent.destroy(),delete tvDisplay.tvContent);
for(;d.firstChild;)d.removeChild(d.firstChild);d.innerHTML=c;if(c=d.getElementsByTagName("article")[0]){c.getAttribute("data-css")&&""!==c.getAttribute("data-css")&&d.insertAdjacentHTML("afterbegin",'<link rel="stylesheet" type="text/css" href="content/'+a.contentType+"/"+c.getAttribute("data-css")+'" />');var b=h(a,"fontFamily");b&&(c.style.fontFamily=b);if(b=h(a,"backgroundImage"))c.style.backgroundImage="url('"+b+"')";c.getAttribute("data-js")&&""!==c.getAttribute("data-js")&&(b=document.createElement("script"),
b.src="content/"+a.contentType+"/"+c.getAttribute("data-js"),b.onload=function(){tvDisplay.tvContent&&tvDisplay.tvContent.init&&tvDisplay.tvContent.init(a)},d.insertAdjacentElement("afterbegin",b))}c=1E3*(h(a,"displaySeconds")||60);p=window.setTimeout(e,c)})["catch"](function(){window.alert("Unable to load content: "+b)})};e=function(){if(p)try{window.clearTimeout(p)}catch(a){}l+=1;l>=k.length&&(l=0);t()};f(!0);window.setInterval(f,6E5);window.addEventListener("keyup",function(a){switch(a.which||
a.keyCode){case 39:case 40:case 78:e();break;case 82:f()}});document.getElementsByClassName("footer-btn-refresh")[0].addEventListener("click",function(){f(!1)});document.getElementsByClassName("footer-btn-next")[0].addEventListener("click",e);return{next:e,refresh:f,getContentProperty:h,contentContainer:d}}();
