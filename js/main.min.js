var tvDisplay=function(){function l(b,c){var a=b[c];null===a&&m[b.contentType]&&(a=m[b.contentType][c]);null===a&&(a=t[c]);return a}function h(b){axios.get(n,{responseType:"json"}).then(function(b){return b.data}).then(function(c){e=c.contentList;b&&f()})["catch"](function(b){0===e.length&&window.alert("Unable to load config: "+n+"\n\n"+b)})}var p=new URLSearchParams(window.location.search),q=p.get("config")||"default",g=p.get("index")||-1,k=null,n="config/"+q+(-1===q.indexOf(".")?".json":""),t={},
m={},e=[],d=document.getElementsByTagName("main")[0];document.getElementsByTagName("footer");var f,r;r=function(){var b=e[g],c="content/"+b.contentType+"/html.txt";axios.get(c,{responseType:"text"}).then(function(a){return a.data}).then(function(a){tvDisplay.content&&(tvDisplay.tvContent.destroy&&tvDisplay.tvContent.destroy(),delete tvDisplay.tvContent);for(;d.firstChild;)d.removeChild(d.firstChild);d.innerHTML=a;if(a=d.getElementsByTagName("article")[0])if(a.getAttribute("data-css")&&""!==a.getAttribute("data-css")&&
d.insertAdjacentHTML("afterbegin",'<link rel="stylesheet" type="text/css" href="content/'+b.contentType+"/"+a.getAttribute("data-css")+'" />'),a.getAttribute("data-js")&&""!==a.getAttribute("data-js")){var c=document.createElement("script");c.src="content/"+b.contentType+"/"+a.getAttribute("data-js");c.onload=function(){tvDisplay.tvContent&&tvDisplay.tvContent.init&&tvDisplay.tvContent.init(b)};d.insertAdjacentElement("afterbegin",c)}a=1E3*(l(b,"displaySeconds")||60);k=window.setTimeout(f,a)})["catch"](function(){window.alert("Unable to load content: "+
c)})};f=function(){if(k)try{window.clearTimeout(k)}catch(b){}g+=1;g>=e.length&&(g=0);r()};h(!0);window.setInterval(h,6E5);return{next:f,refresh:h,getContentProperty:l,contentContainer:d}}();
