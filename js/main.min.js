var tvDisplay=function(){function g(b,a){return b.hasOwnProperty(a)?b[a]:k.hasOwnProperty(b.contentType)&&k[b.contentType].hasOwnProperty(a)?k[b.contentType][a]:n.hasOwnProperty(a)?n[a]:null}function c(b){axios.get(q,{responseType:"json",data:{_:Date.now()}}).then(function(b){return b.data}).then(function(a){l=a.contentList||[];k=a.contentDefaults||{};n=a.displayDefaults||{};b&&f()})["catch"](function(b){0===l.length&&window.alert("Unable to load config: "+q+"\n\n"+b)})}var h=new URLSearchParams(window.location.search),
d=h.get("config")||"default",m=h.get("index")||-1,p=null,q=(-1===d.indexOf("/")?"config/":"")+d+(-1===d.indexOf(".")?".json":""),n={},k={},l=[],e=document.getElementsByTagName("main")[0],h=document.getElementsByTagName("footer")[0];h.getElementsByClassName("float-left")[0].innerHTML="&#x2699; "+d;h.removeAttribute("hidden");var f,r;r=function(){var b=l[m],a=g(b,"remoteURL"),d=(a?a:"")+"content/"+b.contentType,c=d+"/html.txt";axios.get(c,{responseType:"text"}).then(function(b){return b.data}).then(function(a){tvDisplay.tvContent&&
(tvDisplay.tvContent.destroy&&tvDisplay.tvContent.destroy(),delete tvDisplay.tvContent);for(;e.firstChild;)e.removeChild(e.firstChild);e.innerHTML=a;if(a=e.getElementsByTagName("article")[0]){a.getAttribute("data-css")&&""!==a.getAttribute("data-css")&&e.insertAdjacentHTML("afterbegin",'<link rel="stylesheet" type="text/css" href="'+d+"/"+a.getAttribute("data-css")+'" />');var c=g(b,"fontFamily");c&&(a.style.fontFamily=c);if(c=g(b,"backgroundImage"))a.style.backgroundImage="url('"+d+"/../../"+c+"')";
a.getAttribute("data-js")&&""!==a.getAttribute("data-js")&&(c=document.createElement("script"),c.src=d+"/"+a.getAttribute("data-js"),c.onload=function(){tvDisplay.tvContent&&tvDisplay.tvContent.init&&tvDisplay.tvContent.init(b)},e.insertAdjacentElement("afterbegin",c))}a=1E3*(g(b,"displaySeconds")||60);p=window.setTimeout(f,a)})["catch"](function(){try{window.console.error("Unable to load content: "+c)}catch(t){}f()})};f=function(){if(p)try{window.clearTimeout(p)}catch(b){}m+=1;m>=l.length&&(m=0);
r()};c(!0);window.setInterval(c,6E5);window.addEventListener("keyup",function(b){switch(b.which||b.keyCode){case 39:case 40:case 78:f();break;case 82:c()}});document.getElementsByClassName("footer-btn-refresh")[0].addEventListener("click",function(){c(!1)});document.getElementsByClassName("footer-btn-next")[0].addEventListener("click",f);d=new Date(Date.now()+864E5);d.setHours(3);window.setTimeout(function(){window.location.reload(!0)},d.getTime()-Date.now());return{next:f,refresh:c,getContentProperty:g,
contentContainer:e,sanitizeText:function(b){var a=document.createElement("div");a.innerHTML=b;return a.innerText}}}();
