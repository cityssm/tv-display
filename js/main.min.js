var tvDisplay=function(){function l(b,c){var a=b[c];null===a&&m[b.contentType]&&(a=m[b.contentType][c]);null===a&&(a=r[c]);return a}function g(b){axios.get(n,{responseType:"json"}).then(function(b){return b.data}).then(function(c){h=c.contentList;b&&e()})["catch"](function(b){window.alert("Unable to load config: "+n+"\n\n"+b)})}var p=new URLSearchParams(window.location.search),t=p.get("config")||"default",f=p.get("index")||-1,k=null,n="config/"+t+".json",r={},m={},h=[],d=document.getElementsByTagName("main")[0];
document.getElementsByTagName("footer");var e,q;q=function(){var b=h[f],c="content/"+b.contentType+"/html.txt";axios.get(c,{responseType:"text"}).then(function(a){return a.data}).then(function(a){tvDisplay.content&&(tvDisplay.tvContent.destroy&&tvDisplay.tvContent.destroy(),delete tvDisplay.tvContent);for(;d.firstChild;)d.removeChild(d.firstChild);d.innerHTML=a;if(a=d.getElementsByTagName("article")[0])if(a.getAttribute("data-css")&&""!==a.getAttribute("data-css")&&d.insertAdjacentHTML("afterbegin",
'<link rel="stylesheet" type="text/css" href="content/'+b.contentType+"/"+a.getAttribute("data-css")+'" />'),a.getAttribute("data-js")&&""!==a.getAttribute("data-js")){var c=document.createElement("script");c.src="content/"+b.contentType+"/"+a.getAttribute("data-js");c.onload=function(){tvDisplay.tvContent&&tvDisplay.tvContent.init&&tvDisplay.tvContent.init(b)};d.insertAdjacentElement("afterbegin",c)}a=1E3*(l(b,"displaySeconds")||60);k=window.setTimeout(e,a)})["catch"](function(){window.alert("Unable to load content: "+
c)})};e=function(){if(k)try{window.clearTimeout(k)}catch(b){}f+=1;f>=h.length&&(f=0);q()};g(!0);window.setInterval(g,6E4);return{next:e,refresh:g,getContentProperty:l,contentContainer:d}}();
